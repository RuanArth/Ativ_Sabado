
#include <stdio.h>
#include <string.h>

#define MAX_ALUNOS 100

typedef struct {
    int matricula;
    char nome[50];
    
} Aluno;

Aluno listaAlunos[MAX_ALUNOS];
int numAlunos = 0;

int buscaSequencialPorNome(char nome[]) {
    for (int i = 0; i < numAlunos; i++) {
        if (strcmp(listaAlunos[i].nome, nome) == 0) {
            return i;
        }
    }
    return -1; 
}

int buscaSequencialPorMatricula(int matricula) {
    for (int i = 0; i < numAlunos; i++) {
        if (listaAlunos[i].matricula == matricula) {
            return i;
        }
    }
    return -1; 
}

Aluno retornaEnesimoAluno(int n) {
    if (n >= 0 && n < numAlunos) {
        return listaAlunos[n];
    } else {
        
        Aluno alunoVazio;
        alunoVazio.matricula = -1;
        strcpy(alunoVazio.nome, "N/A");
        return alunoVazio;
    }
}

void excluiElementoDaLista(int posicao) {
    if (posicao >= 0 && posicao < numAlunos) {
        
        for (int i = posicao; i < numAlunos - 1; i++) {
            listaAlunos[i] = listaAlunos[i + 1];
        }
        numAlunos--;
    }
}

void insereAlunoNaLista(Aluno novoAluno, int posicao) {
    
    for (int i = 0; i < numAlunos; i++) {
        if (listaAlunos[i].matricula == novoAluno.matricula) {
            printf("Matrícula já existente. Inserção não permitida.\n");
            return;
        }
    }

   
    if (posicao < 0) {
        posicao = 0;
    } else if (posicao > numAlunos) {
        posicao = numAlunos;
    }

    
    for (int i = numAlunos; i > posicao; i--) {
        listaAlunos[i] = listaAlunos[i - 1];
    }

    
    listaAlunos[posicao] = novoAluno;
    numAlunos++;
}

int main() {
    int numAlunosInserir;

    printf("Quantos alunos você deseja inserir? ");
    scanf("%d", &numAlunosInserir);

    for (int i = 0; i < numAlunosInserir; i++) {
        Aluno novoAluno;

        printf("Digite o nome do aluno: ");
        scanf("%s", novoAluno.nome);

        printf("Digite a matrícula do aluno: ");
        scanf("%d", &novoAluno.matricula);

        insereAlunoNaLista(novoAluno, i);
    }

    
    char nomePesquisa[50];
    printf("Digite o nome do aluno para pesquisa: ");
    scanf("%s", nomePesquisa);
    int posicaoNome = buscaSequencialPorNome(nomePesquisa);

    if (posicaoNome != -1) {
        printf("Aluno encontrado! Matrícula: %d\n", listaAlunos[posicaoNome].matricula);
    } else {
        printf("Aluno não encontrado.\n");
    }

    int matriculaPesquisa;
    printf("Digite a matrícula do aluno para pesquisa: ");
    scanf("%d", &matriculaPesquisa);
    int posicaoMatricula = buscaSequencialPorMatricula(matriculaPesquisa);

    if (posicaoMatricula != -1) {
        printf("Aluno encontrado! Nome: %s\n", listaAlunos[posicaoMatricula].nome);
    } else {
        printf("Aluno não encontrado.\n");
    }

    printf("Enésimo aluno: %s\n", retornaEnesimoAluno(1).nome);

    
    int posicaoExcluir;
    printf("Digite a posição do aluno que deseja excluir: ");
    scanf("%d", &posicaoExcluir);

    excluiElementoDaLista(posicaoExcluir);

    Aluno novoAluno;

    printf("Digite o nome do novo aluno: ");
    scanf("%s", novoAluno.nome);

    printf("Digite a matrícula do novo aluno: ");
    scanf("%d", &novoAluno.matricula);

    insereAlunoNaLista(novoAluno, posicaoExcluir);

    return 0;
}

